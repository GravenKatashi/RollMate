<div class="profile-container">
  <div class="profile-header">
    <div class="profile-picture">
      <img [src]="getProfilePictureUrl()" alt="Profile Picture" class="profile-picture-large" />
      <div *ngIf="isEditing" class="file-upload-container">
        <label for="profile-picture-upload" class="file-upload-label">
          <span class="upload-icon">ðŸ“·</span>
        </label>
        <input
          type="file"
          id="profile-picture-upload"
          accept="image/jpeg,image/jpg,image/png,image/gif"
          (change)="onFileSelected($event)"
          style="display: none;"
        />
      </div>
    </div>
    <div class="profile-name">{{ getFullName() }}</div>
  </div>

  <div class="contact-section">
    <div *ngIf="message" class="alert alert-danger" role="alert">
      {{ message }}
    </div>

    <div class="contact-row">
      <span class="contact-label">Phone</span>
      <span class="contact-value" *ngIf="!isEditing">{{ user?.phone || 'Not provided' }}</span>
      <input *ngIf="isEditing" type="text" class="form-control" [(ngModel)]="user.phone" placeholder="Phone">
    </div>
    <div class="contact-row">
      <span class="contact-label">E-Mail</span>
      <span class="contact-value">{{ user?.email }}</span>
    </div>
    <div class="divider"></div>

    <div *ngIf="isEditing" class="edit-buttons">
      <button class="btn btn-primary" (click)="saveProfile()">Save Changes</button>
      <button class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
    </div>
  </div>

  <div class="menu-section">
    <div class="menu-item" (click)="enableEdit()">
      <div class="menu-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="12" cy="7" r="4" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <span class="menu-text">Edit Profile</span>
    </div>
    <div class="divider"></div>

    <div class="menu-item">
      <div class="menu-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="3" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <span class="menu-text">Settings</span>
    </div>
    <div class="divider"></div>

    <div class="menu-item" (click)="logout()">
      <div class="menu-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <polyline points="16 17 21 12 16 7" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <line x1="21" y1="12" x2="9" y2="12" stroke="#5C4DFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <span class="menu-text">Log out</span>
    </div>
  </div>
</div>

